<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
    <style>
    html * {
            font-size: 20px;
            line-height: 1.5;
            color: #202013;
            font-family: sans-serif;
            margin-bottom: 3px;
            }
</style>
</head>
<body>
<div style="margin-bottom: 30px;">Welcome to the profile page!</div>
<div>
    Username: <b>{{ user.username }}</b>
</div>
    <div>
        {% if picture %}
            <img src="/media/{{ picture }}" alt="Your profile picture" width="150" height="150">
        {% else %}
            You have no profile picture.
        {% endif %}
    </div>
<div>
<form action="/user/api/edit_profile/" method="POST" enctype="multipart/form-data">
    {% if messages %}
        {% for message in messages %}
            {% if message.tags == 'success' %}
                <div style="color: green;">{{ message }}</div>
            {% else %}
                <div style="color: red;">{{ message }}</div>
            {% endif %}
        {% endfor %}
    {% endif %}
    <div style="margin-top: 30px;">
        <label for="password">Confirm your password:</label>
        <div><input type="password" name="password" id="password" autocomplete="off" required></div>
    </div>
    <div>
        <label for="first_name">Change first name:</label>
        <div><input type="text" value="{{ first_name }}" name="first_name" id="first_name" autocomplete="off"></div>
    </div>
    <div>
        <label for="last_name">Change last name: </label>
        <div><input type="text" value="{{ last_name }}" name="last_name" id="last_name" autocomplete="off"></div>
    </div>
    <div>
        <label for="middle_name">Change middle name:</label>
        <div><input type="text" value="{{ middle_name }}" name="middle_name" id="middle_name" autocomplete="off"></div>
    </div>
    <div>
        <label for="current_location">Change current location:</label>
        <div><input type="text" value="{{ current_location }}" name="current_location" id="current_location" autocomplete="off"></div>
    </div>
    <div>
        <label for="birthdate">Change birthdate:</label>
        <div><input type="date" value="{{ birthdate }}" name="birthdate" id="birthdate" autocomplete="off"></div>
    </div>
    <div style="margin-top: 10px;">
        {% if picture %}
            <div>
                <input type="checkbox" id="delete_picture" name="delete_picture">
                <label for="delete_picture">Delete profile picture</label>
            </div>
        {% else %}
            <div>
            <label for="picture">Upload profile picture:</label>
            <div><input type="file" value="{{ picture }}" name="picture" id="picture" autocomplete="off" accept="image/*"></div>
        </div>
        {% endif %}
    </div>
    <button type="submit">Save changes</button>
</form>
</div>
<div style="margin-top: 20px;">
    <a href="/message/chats/">Back to All Chats</a>
</div>
</body>
</html>
